### Топология системы
**Полносвязная топология (полный граф)** — топология компьютерной сети, в которой каждая рабочая станция подключена ко всем остальным. Этот вариант является громоздким и неэффективным, несмотря на свою логическую простоту. Для каждой пары должна быть выделена независимая линия, каждый компьютер должен иметь столько коммуникационных портов сколько компьютеров в сети. По этим причинам сеть может иметь только сравнительно небольшие конечные размеры. Чаще всего эта топология используется в многомашинных комплексах или глобальных сетях при малом количестве рабочих станций.

#### Преимущества
- Имеется прямой канал до каждого узла в сети;
- Отказоустойчивость.

#### Недостатки
- Сложное расширение сети (при добавлении одного узла необходимо соединить его со всеми остальными);
- Огромное количество соединений при большом количестве узлов.


### Описание процедуры работы системы
**Вычислительный кластер:**
- Приложение запускается на нескольких узлах <u>и/или</u> несколько приложений на одном узле.
- При запуске приложение формирует и хранит случайное число (приоритет).
- Приложение собирает и сохраняет информацию о вычислительной мощности узла (<u>в nix подобных системах можно взять содержимое файла cpuinfo, поле bogomips, в виндовс ???, в mac os ???</u>)
- Каждый приложение по протоколу UDP отправляет широковещательный пакет (ID_CONNECT) с идентификатором для установления соединения каждый с каждым по протоколу TCP.
- UDP пакет содержит IP адрес отправителя, порт, номер приоритета и вычислительную мощность.
- При получении UDP пакета приложение формирует список доступных узлов для установления соединения.
- Соединение устанавливает то приложение у которого ниже приоритет, а если приоритеты совпали проверяется у кого меньше последний три цифры в IP адресе. Для локального варианта соединение устанавливает приложение с меньшим номером порта.
- После того как все связи будут установлены в вычислительном кластере необходимо замерить пропускную способность. Инициатором замера скорости выступает приложение которое установило связь. <u>Нужно договориться с помощью чего будем производить замер скорости.</u>
- После замера скорости, скорость обмена сохраняется в приложении выполнявшее замер, а также данное приложение отправляет данную информацию узлу который участвовал в обмене.
- В результате каждое приложение содержит таблицу: IP узлов кластера, порт, приоритет, вычислительная мощность узла и пропускная способность канала.


**Клиент (задачик)**
- Клиент может подключается к любому узлу.
- Клиент имеет доступ к массиву данных и математической функции (задаётся в польской нотации, оперируем операциями +, -, /, \*, sin, cos, tan, ctan).
- При запуске клиенту в качестве параметра необходимо передать IP адрес узла к которому хотим подключиться (опция -n или -w, нужно выбрать что у нас node или worker), имя файла (путь до файла) где лежат данные (опция -i) и имя файла (путь до файла) где будет сохранен результат вычисления (опция -o). Если имя выходного файла не задано будет присвоено имя по умолчанию (out_dataN, где N - номер записанного файла, начинается с 0, если имя такого файла уже есть к N добавляется 1 и проверяется возможность создания такого файла. Данная операция продолжается до тех пор пока не будет найдено свободное имя файла).
- На стороне клиента выполняется разбор функции (польская нотация) и формируется математическое выражение.
- После подключения клиенту передаётся информация о вычислительном кластере.
- На стороне клиента с учётом метрики (учитывается вычислительная мощность и пропускная способность сети) выполняется разбиение данных по узлам.*
- Формируются пакеты содержащие данные с учётом их расположения в исходном файле, математическую функцию и информацию (IP и порт) на каком узле данный фрагмент должен выполнятся.
- Узел получив пакеты от клиента (задачика) распределяет по вычислительному кластеру.
- После завершения данные отправляются обратно, собираются в выходной массив данных и сохраняются в файле на стороне клиента.

*взаимосвязь вычислительной мощности и пропускной способности нужно тестировать.


### Формат входных и выходных данных
Входные данные для вычислительного кластера представляют собой текстовый файл. Данный файл содержит числовые значения записанные в один столбец. Функция применяемая к данным хранится в текстовом файле и представляет собой математическую формулу записанную в польской нотации.
Выходные данные записываются в отдельный файл в той же последовательности как они были записаны во входном файле.

### Базовые сценарии тестирования


